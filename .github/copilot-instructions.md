# GitHub Copilot Instructions for MindTravel3D

## プロジェクト概要
MindTravel3Dは、Three.jsベースの3D迷路ゲームです。1000万ユーザーに3D迷路の楽しさを届けることを目標としています。

## コーディングガイドライン

### 言語とスタイル
- JavaScript ES6+を使用
- 日本語コメントを優先（プロジェクトは日本市場向け）
- async/awaitパターンを使用
- エラーハンドリングを必ず実装

### Three.js統合
- `window.ThreeCompat`互換性レイヤーを優先使用
- 新しいジオメトリ/マテリアル作成時はtry-catchブロックを使用
- フォールバック機能を常に考慮

### アーキテクチャパターン
- 各コンポーネントの責任分離を維持
  - GameManager: 中央制御
  - GameEngine: 3D描画とゲームロジック
  - MazeGenerator: 迷路生成アルゴリズム
  - Controls: 入力処理
  - UIManager: UI状態管理

### パフォーマンス要件
- 60fps維持を目標
- メモリ使用量500MB以下
- モバイルデバイス対応を常に考慮

### PWA要件
- オフライン機能を考慮
- レスポンシブデザインを実装
- タッチ操作対応を含める

## 開発時の注意点

### セキュリティ
- APIキーやトークンをハードコーディングしない
- ユーザー入力の検証を実装
- XSS対策を考慮

### テスト
- 主要ブラウザでの動作確認
- モバイルデバイスでのテスト
- デバッグパネル機能を活用

### エラーハンドリング
- UIManagerを通じたユーザーフレンドリーなエラー表示
- コンソールでの詳細ログ出力
- フォールバック処理の実装

## 推奨しないパターン
- グローバル変数の乱用
- 同期的なファイル読み込み
- ハードコードされた設定値
- エラーハンドリングなしのThree.js API呼び出し

## Claude Code連携時の指示
- CLAUDE.mdとCLAUDE_JP.mdの内容を参照
- 日本語での開発ドキュメント作成を優先
- パフォーマンス最適化を常に考慮
- モバイルファーストのアプローチを採用